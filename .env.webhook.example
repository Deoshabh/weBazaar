# ===============================
# SHIPROCKET WEBHOOK & SOKETI CONFIGURATION
# ===============================

# ====== BACKEND (.env) ======

# Shiprocket Credentials
SHIPROCKET_EMAIL=your-shiprocket-email@example.com
SHIPROCKET_PASSWORD=your-shiprocket-password

# Shiprocket Webhook Security
# Option 1: Use HMAC signature verification (recommended)
SHIPROCKET_WEBHOOK_SECRET=your-webhook-secret-from-shiprocket

# Option 2: Use simple token (fallback if HMAC not available)
SHIPROCKET_WEBHOOK_TOKEN=48f6cc854c7a94beb4ea1144ca8242ba7e78a0f5a07127364250cade5083f7a2

# Soketi Configuration (for real-time updates)
SOKETI_APP_ID=app-id
SOKETI_APP_KEY=app-key
SOKETI_APP_SECRET=app-secret
SOKETI_CLUSTER=mt1
SOKETI_HOST=your-soketi-host.com
SOKETI_PORT=6001
SOKETI_USE_TLS=true

# ====== FRONTEND (.env.local) ======

# Soketi Public Configuration
NEXT_PUBLIC_SOKETI_KEY=app-key
NEXT_PUBLIC_SOKETI_HOST=your-soketi-host.com
NEXT_PUBLIC_SOKETI_PORT=6001
NEXT_PUBLIC_SOKETI_TLS=true
NEXT_PUBLIC_SOKETI_CLUSTER=mt1

# ====== WEBHOOK URLS ======

# Production Webhook URL (configure in Shiprocket dashboard):
# https://api.radeo.in/api/webhooks/shiprocket

# Ngrok URL for local testing:
# https://your-ngrok-url.ngrok.io/api/webhooks/shiprocket

# ====== SHIPROCKET IP WHITELIST ======
# Add these IPs to your firewall/security groups:
# - 13.234.161.44
# - 13.234.27.58
# - 13.234.251.9
# - 52.66.111.82
# - 13.235.80.206
# - 3.110.101.158

# ====== SETUP INSTRUCTIONS ======

# 1. NGROK SETUP (for local testing):
#    - Download: https://ngrok.com/download
#    - Install: unzip /path/to/ngrok.zip
#    - Auth: ngrok authtoken YOUR_AUTH_TOKEN
#    - Run: ngrok http 5000
#    - Copy HTTPS URL and add /api/webhooks/shiprocket

# 2. SHIPROCKET WEBHOOK CONFIGURATION:
#    - Login to Shiprocket dashboard
#    - Go to Settings → API → Webhooks
#    - Add webhook URL: https://api.radeo.in/api/webhooks/shiprocket
#    - Add security token in x-api-key header
#    - Enable desired events (AWB Generated, Picked Up, Delivered, etc.)
#    - Save and test

# 3. SOKETI SETUP (if not using your existing Dokploy instance):
#    docker run -p 6001:6001 -p 9601:9601 \
#      -e SOKETI_DEFAULT_APP_ID=app-id \
#      -e SOKETI_DEFAULT_APP_KEY=app-key \
#      -e SOKETI_DEFAULT_APP_SECRET=app-secret \
#      quay.io/soketi/soketi:1.6-16-debian

# 4. TEST WEBHOOK LOCALLY:
#    curl -X POST https://your-ngrok-url.ngrok.io/api/webhooks/shiprocket \
#      -H "Content-Type: application/json" \
#      -H "x-api-key: YOUR_TOKEN" \
#      -d '{"awb":"TEST123","current_status":"IN TRANSIT","sr_order_id":123}'
